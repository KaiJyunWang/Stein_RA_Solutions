\begin{exercise}\exelab{2.1}
    Given a collection of sets $F_1,F_2,\ldots,F_n$, construct 
    $F_1^*,F_2^*,\ldots,F_N^*$ with $N=2^n-1$ such 
    that $\bigcup_{i=1}^{N}F_i^* = \bigcup_{i=k}^{n}F_k$; 
    $F_i^*$ are disjoint; and $F_k = 
    \bigcup_{F_i^*\subset F_k}F_i^*$ for every $k$.
\end{exercise}
\begin{pf}
    Let $I$ be a combinatorics of $\set{1,\ldots,n}$. For 
    example, $I=\set{1,3,4}$ is a combinatorics. Note that 
    although the length of $I$ is undetermined, the length 
    of $I$ cannot be $0$. Now let $\set{F_i^*}$ be the 
    collection of intersections of $F_i$ for $i\in I$ and 
    $F_j^c$ for $j\not\in I$, for every given $I$. Then it 
    is clear that $F_i^*$ are disjoint, and $F_k = 
    \bigcup_{F_i^*\subset F_k}F_i^*$ since for every $x$ in 
    $F_k$, $x$ must be in some $F_i$ for $i\in I$, where $I$ 
    is over every possible combinatorics containing the one 
    induces $F_k$. 
\end{pf}

\begin{exercise}\exelab{2.2}
    Prove that if $f$ is integrable on $\R^d$ and $\delta>0$, 
    then $f(\delta x)\to f(x)$ in $L^1$ as $\delta\to 1$.
\end{exercise}
\begin{pf}
    Given $\epsilon>0$, by theorem 2.4, we know that there exists 
    continuous functions $g\in L^1$ with compact support such that 
    $\norm{f-g}<\epsilon/3$. Then $\norm{f(\delta x)-g(\delta x)}<\epsilon/3$ 
    as well. Now since $g$ is continuous on compact support, we may assume that 
    $g$ is bounded by $M$ and $\supp{g}\subset I$ where $I$ has finite positive 
    measure $S$. Then there exists $\delta$ such that $\abs{g(x)-g(\delta x)}
    <\epsilon/3MS$ for some $\delta$ sufficiently close to $1$. Hence 
    \begin{equation*}
        \norm{g(x)-g(\delta x)} = \int_{\R^d} \abs{g(x)-g(\delta x)} < \epsilon/3.
    \end{equation*}
    Then $\norm{f(x)-f(\delta x)} \leq \norm{f(x)-g(x)} + \norm{g(x)-g(\delta x)} 
    + \norm{f(\delta x)-g(\delta x)} < \epsilon$. This completes the proof.
\end{pf}

\begin{exercise}\exelab{2.3}
    Suppose $f$ is integrable on $(\pi,\pi]$ and extended to $\R$ periodically. 
    Show that 
    \begin{equation*}
        \int_{-\pi}^{\pi} f = \int_I f
    \end{equation*}
    for any interval $I$ of length $2\pi$.
\end{exercise}
\begin{pf}
    We may consider the case where $I$ is contained in two consecutive 
    intervals $I_1,I_2$ where $I_1 = (k\pi,(k+2)\pi]$ and $I_2 = 
    ((k+2)\pi,(k+4)\pi]$ for some $k\in\Z$. Then 
    \begin{equation*}
        \int_I f = \int_{I\cap I_1} f + \int_{I\cap I_2} f 
        = \int_{-(k+1)\pi + I\cap I_1} f + \int_{-(k+1)\pi + I\cap I_2} f
        = \int_{-\pi}^{\pi} f.
    \end{equation*}
    The second equality follows from the fact that the measure is invariance 
    under translation and the fact that $f$ is periodic. The third equality 
    follows from the fact that $I_1,I_2$ are disjoint and thus the length of 
    the two intervals must sum up to $2\pi$. 
\end{pf}

\begin{exercise}\exelab{2.4}
    Suppose $f$ is integrable on $[0,b]$ and 
    \begin{equation*}
        g(x) = \int_{x}^{b} \frac{f(t)}{t}dt
    \end{equation*}
    for $0<x\leq b$. Show that $g$ is integrable on $[0,b]$ and 
    \begin{equation*}
        \int_{0}^{b} g(x)dx = \int_{0}^{b} f(t)dt.
    \end{equation*}
\end{exercise}
\begin{pf}
    Note that 
    \begin{equation*}
        \abs{g(x)} = \abs{\int_{x}^{b} \frac{f(t)}{t}dt} 
        \leq \int_{x}^{b} \abs{\frac{f(t)}{t}}dt.
    \end{equation*}
    Also, by Tonelli's theorem,
    \begin{equation*}
        \int_{0}^{b} \abs{g(x)}dx \leq \int_{0}^{b} \int_{x}^{b} \abs{\frac{f(t)}{t}}dtdx 
        = \int_{0}^{b} \int_{0}^{t} \abs{\frac{f(t)}{t}}dxdt = \int_{0}^{b} \abs{f(t)}dt 
        < \infty.
    \end{equation*}
    Hence $g$ is integrable on $[0,b]$. Now we apply Fubini's theorem to obtain 
    \begin{equation*}
        \int_{0}^{b} g(x)dx = \int_{0}^{b} \int_{x}^{b} \frac{f(t)}{t}dtdx 
        = \int_{0}^{b} \int_{0}^{t} \frac{f(t)}{t}dxdt = \int_{0}^{b} f(t)dt.
    \end{equation*}
\end{pf}

\begin{exercise}\exelab{2.5}
    Suppose $F$ is closed in $\R$ such that $m(F^c)<\infty$. Let $\delta(x) 
    = d(x, F)$. Consider 
    \begin{equation*}
        I(x) = \int_{\R} \frac{\delta(y)}{\abs{x-y}^2}dy.
    \end{equation*}
    \begin{thmenum}
        \item Prove that $\delta$ is Lipschitz and hence continuous.
        \item Show that $I(x)=\infty$ for each $x\in F^c$.
        \item Show that $I(x)<\infty$ almost everywhere in $F$.
    \end{thmenum}
\end{exercise}
\begin{pf}
    To see (a), note that for all $\epsilon>0$, there exists $z\in F$ such that 
    $\abs{x-z}\leq \delta(x)+\epsilon$, and hence 
    \begin{equation*}
        \delta(y) \leq \abs{y-z} \leq \abs{x-y} + \abs{x-z} \leq \abs{x-y} + \delta(x) + \epsilon.
    \end{equation*}
    Then 
    \begin{equation*}
        \delta(y)-\delta(x) \leq \abs{x-y} + \epsilon.
    \end{equation*}
    Since $\epsilon$ is arbitrary, we have $\delta(y)-\delta(x)\leq \abs{x-y}$. 
    Similarly, we have $\delta(x)-\delta(y)\leq \abs{x-y}$, and thus 
    $\abs{\delta(x)-\delta(y)}\leq \abs{x-y}$. This shows that $\delta$ is 
    Lipschitz with constant $1$ and hence continuous.

    For (b), let $x\in F^c$. By definition we have $\delta(y)=0$ for all 
    $y\in F$. Then 
    \begin{equation*}
        I(x) = \int_{\R} \frac{\delta(y)}{\abs{x-y}^2}dy 
        = \int_{F} \frac{\delta(y)}{\abs{x-y}^2}dy + \int_{F^c} \frac{\delta(y)}{\abs{x-y}^2}dy
        = \int_{F^c} \frac{\delta(y)}{\abs{x-y}^2}dy.
    \end{equation*}
    Next, notice that $F^c$ is open and hence we may find $B_r(x)\subset F^c$. 
    By shrinking $B_r(x)$ if necessary, we may assume that $\delta(y)>\alpha$ for 
    some positive $\alpha$ for all $y\in B_r(x)$. Then 
    \begin{equation*}
        I(x) = \int_{F^c} \frac{\delta(y)}{\abs{x-y}^2}dy 
        \geq \int_{B_r(x)} \frac{\alpha}{\abs{x-y}^2}dy 
        = \int_{0}^{r} \frac{\alpha}{y^2}dy = \infty.
    \end{equation*}
    Hence $I(x)=\infty$ for each $x\in F^c$.

    Finally, for (c), we first check that $\frac{\delta(y)}{\abs{x-y}^2}\chi_{F\times F^c}$ 
    is measurable. Indeed, it is measurable since $F, F^c$ are Borel sets and 
    thus $\chi_{F\times F^c}$ is measurable. By Tonelli's theorem, we have
    \begin{equation*}
        \begin{split}
            \int_{F} I(x)dx &= \int_{F} \int_{\R} \frac{\delta(y)}{\abs{x-y}^2}dydx \\
            &= \int_{\R} \int_{F} \frac{\delta(y)}{\abs{x-y}^2}dxdy \\
            &= \int_{F} \int_{F} \frac{\delta(y)}{\abs{x-y}^2}dxdy + \int_{F^c} \int_{F} \frac{\delta(y)}{\abs{x-y}^2}dxdy \\ 
            &= \int_{F^c} \int_{F} \frac{\delta(y)}{\abs{x-y}^2}dxdy,
        \end{split}
    \end{equation*}
    since $\delta(y)=0$ whenever $y\in F$. Now notice that $F\subset \Set{x\in\R}{\abs{x-y}\geq \delta(y)}$. 
    Then 
    \begin{equation*}
        \int_{F} \frac{1}{\abs{x-y}^2}dx \leq 2\int_{\delta(y)}^{\infty} \frac{1}{x^2}dx = \frac{2}{\delta(y)}.
    \end{equation*}
    Therefore, 
    \begin{equation*}
        \int_{F} I(x)dx = \int_{F^c} \int_{F} \frac{\delta(y)}{\abs{x-y}^2}dxdy 
        \leq \int_{F^c} \frac{2\delta(y)}{\delta(y)}dy 
        = 2m(F^c) < \infty.
    \end{equation*}
    Hence $I(x)<\infty$ almost everywhere in $F$.
\end{pf} 

\begin{exercise}\exelab{2.6}
    \begin{thmenum}
        \item Find a continuous $f:\R\to\R_+$ such that $f$ is integrable on 
        $\R$ while $\displaystyle\limsup_{x\to\infty}f(x)=\infty$. 
        \item Show that if $f$ is uniformly continuous on $\R$ and integrable, 
        then $\displaystyle\lim_{\abs{x}\to\infty}f(x)=0$.
    \end{thmenum}
\end{exercise}
\begin{pf}
    For (a), consider 
    \begin{equation*}
        f(x) = \begin{cases}
            n-n^4(n-x) & \text{if $x\in (n-1/n^3,n]$ for some $n\in\N$, $n\geq 2$}, \\
            n-n^4(x-n) & \text{if $x\in (n,n+1/n^3)$ for some $n\in\N$, $n\geq 2$}, \\
            0 & \text{otherwise}.
        \end{cases}
    \end{equation*}
    Then $f$ is continuous and integrable on $\R$ since 
    \begin{equation*}
        \int_{\R} f = \sum_{n=2}^{\infty} n\cdot \frac{1}{n^3} = \pi^2/6 - 1.
    \end{equation*}
    However, $\displaystyle\limsup_{x\to\infty}f(x)=\infty$ since $f(n)=n$ for 
    every $n\in\N$. 

    For (b), we may check the case whether $f(x)\to 0$ as $x\to\infty$ and the case 
    $x\to -\infty$ is similar. Suppose $\displaystyle\lim_{x\to\infty}f(x)\neq 0$. Then 
    there exists a sequence $x_n\to\infty$ such that $f(x_n)>2\epsilon>0$ and 
    $\abs{x_{n+1}-x_n}\geq r>0$ for some $\epsilon$ and $r$. For each $x_n$, by uniform 
    continuity, there exists $\delta_n>0$ which does not depend on $x_n$ such that 
    $\abs{f(x)-f(x_n)}<\epsilon$ for all $x\in I_n\coloneqq (x_n-\delta, x_n+\delta)$. 
    Then $f(x)\geq \epsilon$ if $x\in I_n$ for some $n\in\N$. Note lastly that by 
    further shrinking $\delta<r/2$ if necessary, we may assume that $I_n$ are disjoint. 
    Then 
    \begin{equation*}
        \int_{\R} f \geq \int_{\bigcup_{n\in\N} I_n} f = \sum_{n=1}^{\infty} \int_{I_n} f 
        \geq \sum_{n=1}^{\infty} \epsilon\cdot 2\delta = \infty.
    \end{equation*}
    This contradicts the fact that $f$ is integrable on $\R$. Hence $\displaystyle
    \lim_{x\to\infty}f(x)=0$. By similar argument, we have $\displaystyle
    \lim_{x\to-\infty}f(x)=0$. This completes the proof.
\end{pf}

\begin{exercise}\exelab{2.7}
    Suppose $f:\R^d\to\R$ is measurable on $\R^d$. Let $\Gamma = \Set{(x,y)\in\R^d\times\R}
    {y=f(x)}$ be the graph of $f$. Show that $\Gamma$ is measurable in $\R^{d+1}$ and $m(\Gamma)=0$. 
\end{exercise}
\begin{pf}
    Note that it suffices to show that $\Gamma\cap (B\times [n,n+1])$ is measure zero for all 
    $n\in\Z$ and $B\subset\R^d$ is a box since $\Gamma$ is a countable union of such sets. 
    Then we know that by Lusin's theorem, for any $\epsilon>0$, there exists a closed 
    set $F_\epsilon\subset B$ such that $m(B-F_\epsilon)\leq\epsilon$ and $f$ is continuous 
    on $F_\epsilon$. Then by similar arguments in \exeref{1.37}, we can conclude that 
    $\Gamma\cap (F_\epsilon\times[n,n+1])$ is measure zero. On the other hand, 
    $(B-F_\epsilon)\times[n,n+1]$ has measure at most $\epsilon$. Combining these two facts, 
    we conclude that $m(\Gamma\cap (B\times [n,n+1]))\leq\epsilon$. Since $\epsilon$ 
    is arbitrary, we have $m(\Gamma\cap (B\times [n,n+1]))=0$. This completes the 
    proof.
\end{pf}

\begin{exercise}\exelab{2.8}
    If $f$ is integrable on $\R$, show that $F(x) = \int_{-\infty}^{x} f(t)dt$ is uniformly 
    continuous. 
\end{exercise}
\begin{pf}
    Let $\epsilon>0$ be given. Since the set of continuous functions with compact support 
    is dense in $L^1$, there exists a continuous function $g$ with compact support such that 
    $\norm{f-g}<\epsilon/2$. Also, since $g$ is continuous on compact support, we may assume 
    that $g$ is bounded by $M$ on $\R$. Then if $\abs{x-y}<\delta = \frac{\epsilon}{2M}$, say 
    $x\leq y$, we have
    \begin{equation*}
        \begin{split}
            \abs{F(x)-F(y)} 
            &= \abs{\int_{-\infty}^{x} f(t)dt - \int_{-\infty}^{y} f(t)dt} \\
            &\leq \int_{y}^{x} \abs{f(t)}dt \\
            &\leq \int_{y}^{x} \abs{f(t)-g(t)}dt + \int_{y}^{x} \abs{g(t)}dt \\
            &\leq \epsilon/2 + \int_{y}^{x} Mdt \\ 
            &= \epsilon/2 + M\abs{x-y} < \epsilon.
        \end{split}
    \end{equation*}
    Hence $F$ is uniformly continuous.
\end{pf}

\begin{exercise}[Tchebyshev's inequality]\exelab{2.9}
    Suppose $f$ is integrable on $\R$ and $f\geq 0$. If $\alpha>0$ and 
    $E_\alpha = f^{-1}(\set{(\alpha,\infty]})$, show that
    \begin{equation*}
        m(E_\alpha) \leq \frac{1}{\alpha}\int_{\R} f.
    \end{equation*}
\end{exercise}
\begin{pf}
    \begin{equation*}
        \int_{\R} f \geq \int_{E_\alpha} f \geq \int_{E_\alpha} \alpha = \alpha m(E_\alpha).
    \end{equation*}
    Rearranging the inequality gives the desired result.
\end{pf}

\begin{exercise}\exelab{2.10}
    Suppose $f\geq 0$, and let $E_{2^k} = \Set{x}{f(x)>2^k}$ and 
    $F_k = \Set{x}{2^k<f(x)\leq 2^{k+1}}$. If $f$ is finite almost everywhere, then 
    \begin{equation*}
        \bigcup_{k\in\Z} F_k = \Set{x}{f(x)>0},
    \end{equation*}
    where the $F_k$ are disjoint. Prove that $f$ is integrable if and only if 
    \begin{equation*}
        \sum_{k\in\Z} 2^k m(F_k) < \infty,\qquad\text{ if and only if }\qquad
        \sum_{k\in\Z} 2^k m(E_{2^k}) < \infty.
    \end{equation*}
    Use this result to verify the following: Let 
    \begin{equation*}
        f(x) = \begin{cases}
            \abs{x}^{-a} & \text{ if $\abs{x}\leq 1$,} \\
            0 & \text{ otherwise,} 
        \end{cases}\qquad\text{ and }\qquad
        g(x) = \begin{cases}
            \abs{x}^{-b} & \text{ if $\abs{x}>1$,} \\
            0 & \text{ otherwise.}
        \end{cases}
    \end{equation*}
    Then $f$ is integrable on $\R^d$ if and only if $a<d$; also $g$ is integrable on 
    $\R^d$ if and only if $b>d$.
\end{exercise}
\begin{pf}
    We first show that $f$ is integrable if and only if $\sum_{k\in\Z} 2^k m(F_k)<\infty$. 
    Let 
    \begin{equation*}
        s_n = \sum_{\abs{k}\leq n} 2^k \chi_{F_k}
    \end{equation*}
    be a sequence of simple functions. Notice the inequality 
    \begin{equation*}
        s_n \leq f \leq 2s_n.
    \end{equation*}
    Taking the integral yields
    \begin{equation*}
        \int s_n \leq \int f \leq 2\int s_n.
    \end{equation*}
    Letting $n\to\infty$, 
    \begin{equation*}
        \sum_{k\in\Z} 2^k m(F_k) \leq \int f \leq 2\sum_{k\in\Z} 2^k m(F_k).
    \end{equation*}
    Hence $f$ is integrable if and only if $\sum_{k\in\Z} 2^k m(F_k)<\infty$. 
    Next, suppose $\sum_{k\in\Z} 2^k m(E_{2^k}) < \infty$.
    Since $F_k = E_{2^k}-E_{2^{k+1}}$, $m(F_k) = m(E_{2^k}) - m(2^{k+1})$. 
    Then 
    \begin{equation*}
        \sum_{k\in\Z} 2^k m(F_k) = \sum_{k\in\Z} 2^k \sbrc{m(E_{2^k}) - m(E_{2^{k+1}})} 
        \leq \sum_{k\in\Z} 2^k m(E_{2^k}) < \infty.
    \end{equation*}
    since $E_{2^k}\supset E_{2^{k+1}}$. 
    Lastly, if $\sum_{k\in\Z} 2^k m(F_k)<\infty$, then 
    \begin{equation*}
        \sum_{k=-\infty}^{\infty} 2^k m(E_{2^k}) 
        = \sum_{k=-\infty}^{\infty}\sum_{i=k}^{\infty} 2^k m(F_i) 
        = \sum_{i=-\infty}^{\infty} m(F_i) \sum_{k=-\infty}^{i} 2^k
        = \sum_{i=-\infty}^{\infty} m(F_i) 2^{i+1} < \infty.
    \end{equation*}
    Now let $v_d$ denote the volume of the unit ball in $\R^d$. 
    Then for $f$, if $k\geq 0$, $m(E_{2^k}) = 2^{-dk/a}v_d$; if 
    $k<0$, $m(E_{2^k}) = v_d$. Hence 
    \begin{equation*}
        \sum_{k\in\Z} 2^k m(E_{2^k}) = \sum_{k\geq 0} 2^k 2^{-dk/a}v_d + \sum_{k<0} 2^k v_d 
        = v_d\pth{1 + \sum_{k\geq 0} 2^{k(1-d/a)}}.
    \end{equation*}
    The sum converges if and only if $a<d$. Similarly, for $g$, if $k>0$, 
    $m(E_{2^k}) = 0$; if $k\leq 0$, $m(E_{2^k}) = (2^{-dk/b}-1)v_d$. Hence 
    \begin{equation*}
        \sum_{k\in\Z} 2^k m(E_{2^k}) = \sum_{k\leq 0} 2^k (2^{-dk/b}-1)v_d 
        = v_d\pth{-1 + \sum_{k\leq 0} 2^{k(1-d/b)}}.
    \end{equation*} 
    The sum converges if and only if $b>d$. This completes the proof.
\end{pf}

\begin{exercise}\exelab{2.11}
    Prove that if $f:\R^d\to\R$ is integrable, and $\int_E f \geq 0$ for 
    every measurable set $E$, then $f\geq 0$ almost everywhere. As a result, 
    if $\int_E f = 0$ for every measurable set $E$, then $f=0$ almost 
    everywhere. 
\end{exercise}
\begin{pf}
    Since $f$ is measurable, consider $A = \Set{x}{f(x)< 0}$, which is 
    measurable. Then $\int_A f = 0$. It follows that $m(A) = 0$. Hence 
    $f\geq 0$ almost everywhere. If $\int_E f\leq 0$ for every measurable 
    $E$, then $\int_E -f \geq 0$ and thus $-f\geq 0\Leftrightarrow f\leq 0$ 
    almost everywhere. Combining these two results, we have $f=0$ almost 
    everywhere provided that $\int_E f = 0$ for every measurable set $E$.
\end{pf}

\begin{exercise}\exelab{2.12}
    Show that there are $f\in L^1(\R^d)$ and a sequence $\set{f_n}\in L^1(\R^d)$ 
    such that 
    \begin{equation*}
        \Lonenorm{f_n-f}\to 0,
    \end{equation*}
    but $f_n(x)\to f$ for no $x$.
\end{exercise}
\begin{pf}
    Consider the sequence of sets $\F_n$ collecting rectangular partitions 
    of $[-2^n,2^n]^d$, with each set has measure $2^{-nd}$. Now consider 
    the union $\F$, ordered as $\F_1,\F_2,\ldots$, i.e., the sets would 
    be arranged so that a set from $\F_m$ is arranged after a set from $\F_n$ 
    if $m>n$. Let $f_n$ be the characteristic function of the $n$-th set in 
    $\F$. Then $f_n\to 0$ in $L^1$ since the measure of each set in $\F_n$ 
    is $2^{-nd}$. However, $f_n$ does not converge to $0$ pointwisely since 
    every points in $\R^d$ is contained by at least one and at most $2^{d+1}$ 
    sets in $\F_n$. 
\end{pf}

\begin{exercise}\exelab{2.13}
    Give an example of two measurable sets $A,B$ such that $A+B$ is 
    not measurable.
\end{exercise}
\begin{pf}
    Let $V$ be the Vitali set. Then consider $A = \set{0}\times[0,1]$ 
    and $B = V\times\set{0}$. Then $A+B = \Set{(x,y)}{x\in V, y\in[0,1]} 
    = V\times[0,1]$. If $A+B$ is measurable, then since $m([0,1])=1$, 
    $V$ would be measurable, which is a contradiction. Hence $A+B$ is not 
    measurable. However, it is clear that $A,B$ are measurable since 
    they are both of measure zero. 
\end{pf}

\begin{exercise}\exelab{2.14}
    Let $v_d = m(B)$, where $B$ is the unit ball in $\R^d$. 
    \begin{thmenum}
        \item For $d = 2$, prove that 
        \begin{equation*}
            v_2 = 2\int_{-1}^{1}(1-x^2)^{1/2}dx.
        \end{equation*}
        and hence by elementary calculus, $v_2 = \pi$. 
        \item By similar methods, show that 
        \begin{equation*}
            v_d = 2v_{d-1}\int_{0}^{1}(1-x^2)^{(d-1)/2}dx.
        \end{equation*}
        \item The result is 
        \begin{equation*}
            v_d = \frac{\pi^{d/2}}{\Gamma(1+d/2)}.
        \end{equation*}
    \end{thmenum}
\end{exercise}
\begin{pf}
    For (a), since $f(x) = \sqrt{1-x^2}$ is continuous on $[-1,1]$, it is 
    measurable and hence so is $B$ in $\R^2$ since we may write $B$ as 
    \begin{equation*}
        \Set{(x,y)}{0\leq y\leq f(x), x\in[-1,1]}\cup\Set{(x,y)}{-f(x)\leq y\leq 0, x\in[0,1]}, 
    \end{equation*}
    which is clearly measurable and 
    \begin{equation*}
        v_2 = 2\int_{-1}^{1} \sqrt{1-x^2}dx = \pi.
    \end{equation*} 

    For (b), now given any $x\in[-1,1]$, the slice of $B$ at $x$ 
    is a unit ball with radius $\sqrt{1-x^2}$ in $\R^{d-1}$. Hence 
    \begin{equation*}
        v_d = \int_{-1}^{1} (1-x^2)^{(d-1)/2}v_{d-1}dx = 2v_{d-1}\int_{0}^{1} (1-x^2)^{(d-1)/2}dx.
    \end{equation*}

    For (c), we first note that by letting $t = x^2$,
    \begin{equation*}
        \begin{split}
            \int_{0}^{1} (1-x^2)^{(d-1)/2}dx 
            &= \frac{1}{2}\int_{0}^{1} (1-t)^{(d-1)/2}t^{-1/2}dt \\
            &= \frac{1}{2} B(\frac{1}{2}, \frac{d+1}{2}) \\
            &= \frac{1}{2} \frac{\Gamma(1/2)\Gamma((d+1)/2)}{\Gamma(1+d/2)} = \frac{1}{2} \frac{\pi^{1/2}\Gamma((d+1)/2)}{\Gamma(1+d/2)}
        \end{split}
    \end{equation*}
    Hence 
    \begin{equation*}
        v_d = 2v_{d-1}\int_{0}^{1} (1-x^2)^{(d-1)/2}dx = v_{d-1}\frac{\pi^{1/2}\Gamma((d+1)/2)}{\Gamma(1+d/2)}.
    \end{equation*}
    Now we proceed by induction on $d$. The base case is $d=2$, which has been
    shown in (a). Now suppose the result holds for $d-1$. Then 
    \begin{equation*}
        v_d = v_{d-1}\frac{\pi^{1/2}\Gamma((d+1)/2)}{\Gamma(1+d/2)} = \frac{\pi^{d/2}\Gamma((d+1)/2)}{\Gamma(1+d/2)\Gamma(1+(d-1)/2)} 
        = \frac{\pi^{d/2}}{\Gamma(1+d/2)}.
    \end{equation*}
    By induction, the result holds for all $d\geq 2$. The case $d=1$ is trivial.
\end{pf}

\begin{exercise}\exelab{2.15}
    Consider the function defined over $\R$ by 
    \begin{equation*}
        f(x) = \begin{cases}
            x^{-1/2} & \text{ if $0<x<1$,} \\
            0 & \text{ otherwise.}
        \end{cases}
    \end{equation*}
    For a fixed enumeration $\set{r_n}$ of the rationals $\Q$, let 
    \begin{equation*}
        F(x) = \sum_{n=1}^{\infty} 2^{-n}f(x-r_n).
    \end{equation*}
    Prove that $F$ is integrable, hence the series defining $F$ converges 
    for almost every $x\in\R$. However, observe that this series is 
    unbounded on every interval, and in fact, any function $\tilde{F}$ 
    that agrees with $F$ almost everywhere is unbounded in any interval.
\end{exercise}
\begin{pf}
    By Lebesgue's monotone convergence theorem, it suffices to show that
    \begin{equation*}
        \sum_n 2^{-n}\int f(x-r_n) < \infty.
    \end{equation*} 
    Now note that the integral is invariant under translation and hence 
    it remains to show that $\sum_n 2^{-n}\int f(x) < \infty$. By 
    \exeref{2.10}, $f(x)$ is integrable. It follows that the series converges 
    and hence $F$ is integrable. Now for any interval $I$, by the density 
    of $\Q$, there exists $r_n\in I$, and we may pick $x\in I$ arbitrarily 
    close to $r_n$ so that $f(x-r_n)$ can be arbitrarily large. Hence $F$ is 
    unbounded on every interval. If $\tilde{F}=F$ almost everywhere, and 
    $\tilde{F}$ is bounded on some open interval (we may always pick the 
    interior), say by $M$, then there exists $r_n\in I$, and 
    $f^{-1}((M,\infty))\cap I = (r_n, r_n + 1/M^2)\cap I$ has positive 
    measure. Thus $\tilde{F}$ cannot agree with $F$ almost everywhere. By 
    contradiction, $\tilde{F}$ is unbounded in any interval.
\end{pf}

\begin{exercise}\exelab{2.16}
    Suppose $f$ is integrable on $\R^d$. If $\delta = (\delta_1,\ldots,\delta_d)$ 
    is a $d$-tuple of non-zero real numbers. Show that the function 
    $x\mapsto f(\delta x) = f(\delta_1x_1,\ldots,\delta_dx_d)$ is integrable 
    with 
    \begin{equation*}
        \int f(\delta x)dx = \abs{\delta_1}^{-1}\cdots\abs{\delta_d}^{-1}\int f(x)dx.
    \end{equation*}  
\end{exercise}
\begin{pf}
    We proceed by induction on $d$. For the base case where $d = 1$, 
    note that it suffices to show the case where $f$ is nonegative and 
    simple. To see this we may reduce the case to characteristic functions. 
    Now consider $\chi_A$, where $A$ is a measurable set. Then note that 
    \begin{equation*}
        \int \chi_A(\delta x)dx = m(\delta^{-1}A) = \abs{\delta}^{-1}m(A) 
        = \abs{\delta}^{-1}\int \chi_A(x)dx.
    \end{equation*}
    Now suppose the result holds for $d-1$. Then by Fubini's theorem, 
    \begin{equation*}
        \begin{split}
            \int f(\delta x)dx 
            &= \int_{\R} \int_{\R^{d-1}} f(\delta_1x_1, \ldots, \delta_{d-1}x_{d-1}, \delta_dx_d)(dx_1\cdots dx_{d-1})dx_d \\
            &= \int_{\R} \int_{\R^{d-1}} \abs{\delta_1}^{-1}\cdots\abs{\delta_{d-1}}^{-1}f(x_1,\ldots,x_{d-1},\delta_d x_d)(dx_1\cdots dx_{d-1})dx_d \\
            &= \int_{\R^{d-1}} \int_{\R} \abs{\delta_1}^{-1}\cdots\abs{\delta_d}^{-1}f(x_1,\ldots,x_{d-1}, x_d)dx_d(dx_1\cdots dx_{d-1}) \\
            &= \abs{\delta_1}^{-1}\cdots\abs{\delta_d}^{-1}\int f(x)dx,
        \end{split}
    \end{equation*}
    and since $f$ is integrable, the computation is justified. By induction, 
    the result holds for all $d$.
\end{pf}

\begin{exercise}\exelab{2.17}
    Suppose $f$ is defined on $\R^2$ as follows: $f(x,y) = a_n$ if $n\leq x <n+1$ 
    and $n\leq y < n+1$; $f(x,y) = -a_n$ if $n\leq x < n+1$ and $n+1\leq y < n+2$; 
    while $f(x,y) = 0$ otherwise. Define $a_n = \sum_{k=0}^{n} b_k$ with $\set{b_k}$ 
    being a positive sequence such that $\sum_k b_k = s <\infty$.
    \begin{thmenum}
        \item Verify that each slice $f^y$ and $f_x$ is integrable. Also for all 
        $x$, $\int f_x(y)dy = 0$ and hence $\int\int f(x,y)dydx = 0$.
        \item However, $\int f^y(x)dx = a_0$ if $0\leq y<1$, and $\int f^y(x)dx 
        = a_n - a_{n-1}$ if $n\leq y < n+1$. Hence $y\mapsto \int f^y(x)dx$ is an 
        integrable function on $(0,\infty)$ and 
        \begin{equation*}
            \int\int f(x,y)dxdy = s.
        \end{equation*}
        \item Show that $\int_{\R^2} \abs{f(x,y)}dxdy = \infty$.
    \end{thmenum} 
\end{exercise}
\begin{pf}
    Given $y\in[n,n+1)$, $f^y = a_n\chi_{[n,n+1)} - a_{n-1}\chi_{[n-1,n)}$ for $n\neq 0$ 
    and $f^y = a_0\chi_{[0,1)}$ for $n=0$. Given $x\in[n,n+1)$, 
    $f_x = a_n\chi_{[n,n+1)} - a_n\chi_{[n+1,n+2)}$. Hence 
    \begin{equation*}
        \int \abs{f^y(x)}dx = \begin{cases}
            2a_n & \text{ if $n\neq 0$,} \\
            a_0 & \text{ if $n=0$.}
        \end{cases}
    \end{equation*} 
    and 
    \begin{equation*}
        \int \abs{f_x(y)}dy = 2a_n.
    \end{equation*}
    Since $a_n$ is convergent, $f^y$ and $f_x$ are integrable. Also, 
    $\int f_x(y)dy = a_n - a_n = 0$ for all $x\geq 0$. Thus the integral 
    of $f_x$ is zero and 
    \begin{equation*}
        \int\int f(x,y)dydx = 0.
    \end{equation*} 
    Also, $\int f^y(x)dx = a_0$ if $y\in[0,1)$ and $\int f^y(x)dx = a_n - a_{n-1}$ 
    if $y\geq 1$. Hence $y\mapsto\int f^y(x)dx$ is integrable and 
    \begin{equation*}
        \int\int f^y(x)dxdy = a_0 + a_1 - a_0 + a_2 - a_1 + \cdots = s.
    \end{equation*} 
    Lastly, 
    \begin{equation*}
        \int_{\R^2} \abs{f(x,y)}dxdy = a_0 + 2a_1 + 2a_2 + \cdots 
        = -a_0 + 2\sum_{n=0}^{\infty}a_n.
    \end{equation*}
    Since $a_n$ does not converge to zero, the series diverges and hence 
    the $f$ is not integrable.
\end{pf}

\begin{exercise}\exelab{2.18}
    Let $f$ be a measurable finite-valued function on $[0,1]$, and 
    suppose that $\abs{f(x)-f(y)}$ is integrable on $[0,1]^2$. Show 
    that $f$ is integrable on $[0,1]$.
\end{exercise}
\begin{pf}
    By Fubini's theorem, we know that for every $y\in[0,1]$, 
    the slice $x\mapsto\abs{f(x)-f(y)}$ is integrable on $[0,1]$. 
    Consider the case where $y=0$, then $\abs{f(x)-f(0)}$ is 
    integrable on $[0,1]$. Since $f$ is finite-valued, 
    $\abs{f(x)}\leq \abs{f(x)-f(0)}+\abs{f(0)}$, which are 
    integrable on $[0,1]$, and hence $f$ is integrable on 
    $[0,1]$.
\end{pf}

\begin{exercise}\exelab{2.19}
    Suppose $f$ is integrable on $\R^d$. For each $\alpha>0$, 
    let $E_\alpha = \Set{x}{\abs{f(x)}>\alpha}$. Prove that 
    \begin{equation*}
        \int_{\R^d} \abs{f(x)}dx = \int_{0}^{\infty} m(E_\alpha)d\alpha.
    \end{equation*}
\end{exercise}